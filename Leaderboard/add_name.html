<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <title>Caught in the Phish</title>
</head>
<body onload="fishMove()">
    <h1 class="title">Cybersecurity Awareness Month    
    <img src="images/Jack.png" class="logoBoard" alt="Logo">
    </h1>

    <h2 class="title">Caught In The Phish Escape Room</h2>
    <hr>

    <br><br><br>

    <form>
        <div>
        <label class="text" for="name">Enter team Name:</label>
        <br>
        <input class="inputName" type="text" id="name" name="name">
        </div>
    </form> <br>

    <button onclick="submitData()">Next</button>

    <br><br>

    <div id="containerFish"><img src="images/Goldfish Stickers.png" id="fish" alt="Fish"></div>
  
    </body>

    <script>
    //save name for scoreboard
    function submitData() {
        const name = document.getElementById("name").value.trim();

        // Store name under a separate key
        localStorage.setItem("currentPlayer", name);

        // Redirect to timer page
        window.location.href = "timer.html";
    }
    //animation
  var id = null;
  var pos = 0;
  var direction = 1; // 1 = right, -1 = left
  var maxPos = 1000;

  function fishMove() {
    var elem = document.getElementById("fish");   
    clearInterval(id);
    id = setInterval(frame, 5);

    function frame() {
      pos += direction;
      elem.style.left = pos + 'px'; 

      // Flip the fish image using scaleX
      if (direction === 1) {
        elem.style.transform = "scaleX(-1)";
      } else {
        elem.style.transform = "scaleX(1)";
      }

      // Reverse direction at edges
      if (pos >= maxPos || pos <= 0) {
        direction *= -1;
      }

  fishMove();
      }
    }
  </script>
</html>